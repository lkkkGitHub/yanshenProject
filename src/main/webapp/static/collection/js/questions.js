define("nowcoder/1.2.1150/javascripts/site/profile/questions",["nc","../../util/littleAction","cpn","ncpc","../../action/contest","../../action/note","../../core/siteConfig","../../component/popupSub/popupEditTag"],function(t,e,a){var l=t("nc"),i=l.$,s=l.Sys,n=l.Base,d=l.Uri,o=t("../../util/littleAction"),c=t("../../core/siteConfig"),r=t("../../component/popupSub/popupEditTag");s.ready({initialize:function f(){this.initTags(),o.follow({followCls:"",unfollowCls:"click-editfollow",followedStr:"编辑收藏",entityCb:function(t){var e=i(t.currentTarget);return{id:e.attr("data-id"),type:c.type.problem}},followCb:function(t){t&&window.location.reload()}})},events:{"click a.js-tag-label":function u(t){var e=i(t.currentTarget);e[e.hasClass("selected")?"removeClass":"addClass"]("selected");var a=i("#jsTagsFold").closest("div.with-fold").find("a.tag-label.selected"),l=n.map(a,function(t){return i(t).attr("data-title")}),s=d.addParam({tags:l.join(",")});window.location.href=s},"click a.js-edit-label":function p(t){var e=i(t.currentTarget),a=i("#jsTagsFold"),l=a.closest("div.with-fold").find("a.tag-label"),s=a.closest("div.with-fold");if(e.hasClass("selected")){e.removeClass("selected"),e.html("编辑选中的标签"),s.removeClass("open");var o=(d.getParam("tags")||"").split(",");o=n.without(o,""),n.map(l,function(t){var e=i(t).attr("data-title")||"";i(t).addClass("js-tag-label"),n.indexOf(o,e)<0?i(t).removeClass("selected js-tag-edit"):i(t).removeClass("js-tag-edit")})}else e.addClass("selected"),e.html("取消编辑"),n.map(l,function(t){i(t).removeClass("js-tag-label"),i(t).addClass("selected js-tag-edit")}),s.addClass("open")},"click a.js-tag-edit":function g(t){var e=i(t.currentTarget),a=i(e).attr("data-title")||"";r.show({entityType:c.type.problem,oldTagName:a,call:function(t){t?i(e).html(t):i(e).remove()}})}},binds:{"click #jsTagsFold":function v(t){var e=i(t.currentTarget).closest("div.with-fold");e[e.hasClass("open")?"removeClass":"addClass"]("open")}},initTags:function C(){var t=(d.getParam("tags")||"").split(",");if(0===(t=n.without(t,"")).length)return;var a=[];n.forEach(t,function(t){var e=i("a.js-tag-label[data-title="+t+"]");e.addClass("selected"),0<e.length&&a.push(t)})}})});