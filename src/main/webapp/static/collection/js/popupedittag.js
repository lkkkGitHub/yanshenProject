define("nowcoder/1.2.1150/javascripts/component/popupSub/popupEditTag",["nc","cpn","../../action/contest","ncpc"],function(a,t,e){var n=a("nc"),l=a("cpn"),s=n.$,o=n.Component,c=(n.Limit,n.Clazz),i=n.Base,p=l.Popup,r=a("../../action/contest"),d=l.Input,m=e.exports=c.create();c.mix(m,o,{_template:'<div style="height:auto;">标签加载中...</div>',listeners:[{name:"render",type:"custom",handler:function(){this.getEl().html(['<div class="form-group">','<label class="control-label">输入标签：</label>','<div class="control-group js-input">','<input type="text" class="ld-email" value="',this.rawConfig.oldTagName||"",'" placeholder="多个标签用空格隔开" />',"</div>","</div>",'<div class="pop-collect-tag" style="display:none;margin-bottom:20px;">','<span class="pop-collect-label">我的标签：</span>','<div class="tags-box"></div>',"</div>",'<div class="pop-collect-tag">','<a href="javascript:void(0);" class="btn btn-primary confirm-btn">修改收藏标签</a>','<div class="cut-line"><span class="cut-txt">or</span></div>','<a href="javascript:void(0);" class="btn btn-warn cancle-btn">删除收藏标签</a>',"</div>"].join(""))}}],show:function u(e){var n=this,l={type:(e=e||{}).entityType,oldTagName:e.oldTagName},a=new m(e),o=p.wrap(a,{title:"编辑tag",content:a.html(),width:480,hasNoFooter:!0,hasScroll:!0,ok:function(){var a=o.popupContent,t=d.transform(a.find(".js-input"));return n.sNewTagName=s.trim(t.val()),n.sNewTagName?n.sNewTagName===e.oldTagName||void r.updateFollowTag({body:i.extend(l,{newTagName:n.sNewTagName}),call:function(){p.tips("操作成功"),e.call&&e.call(n.sNewTagName)}}):(t.setErrorTips("不能为空"),!0)},listeners:{cancel:function(){r.updateFollowTag({body:i.extend(l,{newTagName:""}),call:function(){p.tips("操作成功"),e.call&&e.call("")}})}}});return o.popupContent.addClass("pop-tag-box clearfix"),a}},{})});